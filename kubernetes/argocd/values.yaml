global:
  domain: argocd.derviloper.de

configs:
  cm:
    exec.enabled: true
    dex.config: |
      connectors:
        - config:
            issuer: https://authentik.derviloper.de/application/o/kube-apiserver/
            clientID: kube-apiserver
            clientSecret: $dex.authentik.clientSecret
            insecureEnableGroups: true
            scopes:
              - openid
              - profile
              - email
          name: authentik
          type: oidc
          id: authentik
  params:
    server.insecure: true
  secret:
    createSecret: false

extraObjects:
  - apiVersion: bitnami.com/v1alpha1
    kind: SealedSecret
    metadata:
      creationTimestamp: null
      name: argocd-secret
      namespace: argocd
    spec:
      encryptedData:
        admin.password: AgASDYkdJCxSjjMz4i4tW2TFJbTLzQLXJjkVchD+rccidKiqQ4etZuZb96G84kdRewln9JtbsbGwDhlNj3UrsHd2y21cCbCBTnpfJEu+quCHctArBhcStj7aa4RNvwXpKXLZDrK8OtT0a5HpyCoYIyLpyKjXBuKFIBBqpR1YApg1jMmuPlv4gmuwdIbHNuSGfw6Ixp0W5LShFk+weHvwEUTBhquhOWGKMIcckmBfN7hmnlueOyaJiJxNFjxvg9EH5PeX7TWL/lcGwhxTKRWCCEcAUQe587OPxX9XMFOS6wL0JBI/yA9A+ZDyQc2wH5EDczqJDo1n2bj4sM00xVy+ild3eYyDs1N/gEE4KGvTlvy7Qus/6Zd0fUAxpN3JHzjlcSKFYoB2O+ut0Hy49/QqckIQ3hO02fxROg8lwWLp1aPDcntLDGuB+1BXgAF3gdT2+0Fco+FMFNbjfaw+InpJuEEQo0LI9GDZf1ugB1EBh6oePhB0b5xtVkTk/p7J7HOOD7mO25RT0WNcISVavjCeus12d42DQzeltEGEIRewu0sHx7fJBQ75kjtxvTSME0iL+dYcGO4B2ucmnkmHdhGbNjyhyeW56ZSsEZm8zeIDYCfHD8C9BKCNql3ei+/lJCD7IPfOMZE1BOMwM1xf22rzpkAbGecm6O1D6+qyFv7N+odmlkspxIaYXkJfViwD8IBWBxQUUDOzf390QrbQ4WCyfCN6wkzNO5OT1pPMDB9zZDKQdt4x7oJeffbTNyVifEvbykDkhKAghnbn/rpRU7Q=
        admin.passwordMtime: AgBAQ/0JOMRdEfM6SSCZGdhHIVvr0dpRmYq+M3cvEMGToTIo8XfasDIjobE2twOTZUkQTtaN7MfR2Mn1UYBPXHYZSHoBQLwRz1Lv4N8ZtsZyU8PKXlg7JVoxLx0V0CHM7FTjhDv7Ho4HMfkeZha/vduLZQoVzq/yw3Snmv1Txnt3VhCiw53MAcZBtSbTVOnmWB1Cf7dI63LDu0NYk04NtRfK4aUhDvz+K65MIyHP5qlO/V2qZJ93BmBTtHLttijhUkpu4GtoOoQFxHwkTB/IeOlXWAi1z4tmdJDCxpOFUPMwp2v7hf1mp3ZRH4zOhE34Q3vUBS6btg6Oo6Fe+kjEy8DUUeBODfEMzyFG8A7Q9DujFkZfhYCtMqiAAEyVOpRVbp0S1v03Z14eBOcqp6npQJODNXVRM+/CF8HUfG9t7CTXI1WlYjCWnWyraaoD80T72UyRuDCp7T1O+BRDGgWMznI9UyoSaBWT9CAN3roL/a8NXn3dj7LDU/vZ/+qm9dMM2vaVbsa0tNss+l/DMz6WkqvajKoA+GjorPfKyAKcAovkssWKY1pt3HIoiAM9yhnJ+DpdA0jvhjIPo870siF9D1E7wvD+hMFkIsodEymz7GvKU6tNnac6m6kiV0qQWsPb3RjXu6u3pz0WLxaLwt9E9Sq9hQg1eMoF8QCExp8fmSF8if0/+uhqPOnY/CPhWskXMW+0qwbx6ygkGrBdkGRoFw8z6HjEXA==
        dex.authentik.clientSecret: AgCTdYGxaAvH2y4B1xXQ4OcQTqVzG1qT9bfRwCNS+k53bJ8ya5XxHN2Bc7ivKMEMbRYbhd+rKnCgcDu5KQlOiEMxmn1rUhMHocxoVleoQNVbo37Cl+rXcaiVvR7K3HujQsyyLP3mOdks3Tx+d60G4hSeGKBzZQON5vhEPAO4WWUKFJ4DhFg/CtRoqytI4ZGuo0NbEH6w/Lu0Am8MKmRlCRlMeTo3syIoKmo9fUR/3TTpgaI3TuVlqJyAa8Ng67ODczGfsFowvu/d0GwgYcjpkAxaJydj08AIxGaB08HV7Tc8dWQ4zlOCK4V8gUIu3kjTvxqSYsXtadsMBpXJZQ+u5iMcrzAhyy2WN3kc13edjiOv7U6y3mfV4e0Yv/e35ZHxNJdIiibdiBNHS6rUveCaCRRx7DPkABsWBUb1sN088Tx3lVgZQ8P0wfEjNQCbMFDJF0BKh6ces9HQhKJ8ZzV1sRwBLT+0sKaPfzH2bnuDMh5ZVgtJ6JXIfDOYNYnLVD2LdeVoHbIDf2en5w18GbCnNb+P8MyrVKdubDNUF0xJYO86sI3oSdNGD8AD3sN1qW9Jd4+DOEgzFZEsTXcXLRDsyiIxqhEUARm5vttKKVZCuP26FCN9ctyQkWpAqpcTDLFQd1U/2ttmsPugTHWKO5M+CPEhSfjwJ5wxMqUdip7/w0LyQY1AsIu11FzxxjeeYNc5TfbHYbzihvMmcnyd6JeOWRsyIJEFd0+LY2Rc4Qx7Jm660CHTT8rf4VjmKDzcK6cfE4v2MGbmlTm6Hei1e8TnVEDnp6dGQ/HHwKKjpaLq3vIABjv+VDzaYn/9bEl2VxuQf4RHCZ0K4qDmfPzCukYbMH8g+FsbbJ3Jdz+/mEh4+TeYYg==
        server.secretkey: AgBBHVIqKMoORIr0sQo4flex8txWtTrQuWpnseDqiRWLYnN15h7jtcMzpLq1OjdMXEzTfqK7QTkzvLYrwEjtSYNYHirNFNHoxaq6YkR4HNWEy+x/+NYnJAmHrsyyt0wAnIOMJqMP1WOtz/h+grx7QFyehDEqo4j1Qln65h1Z5Eh/C9nwo4cDI1/Bo8GwaZ2KoF1mu/sI19VixSSwV2ZpMRbtZJzqDrJGomnd4tqdQGc9qPjfW6S/3BvgAQBTeS9qLpawuQMAOtHZ7QmJJLnfQWZ7bpYoUsaIdgUgXYrh6Ty+aGGNNNqH88c1BxslpzvPphpzLmO6VYj0IFNW8OfuRlIyHt/TffvZ5D+ZT18XVNGxXg8MbeCCMIdMDYViJFZl1S4Xm/MFIcIS2EVEaY6WMuqMi5UHkwdZAiFLzQMo72SDXI3KLINnZsfUOksGQ5k9hi3pO0HvsJvYopLC0yHgPEdRelo6E8eZscOudtQGci9FIYluwfPRe56Sj2ndmYlsiTcJB/QnvqGGWa/zNnDqDISAtKiz1OYGSAbkDN2z+vZw3cotyditL+BeKQDjdnaOkqKaQJkNE0fBKInpqUg4DpeLpU3W8EUCmzGXM1zJ0QmuSWoyE75rUm9L8QgmCZTa8apDSwktkNfX8S1aEudXduvdy857P4z95Im5+m6cplra3jmhne+RbsiA/jPsGK1lYwy3VvVn913JA6xlsO7240AKFNE/fMFQGn+g6wIinIMN/SyZZWdcratz5YZJDQ==
        webhook.github.secret: AgB8qXkNGWzr7vZVjcfXStBzXc0arbSNYHPLhpxms7E/75AL15k24YnMXjp8vR4bwP7/gbZyJMczMqPELz+5YpWkE4HBi6kqfpTGq/8ngUVDR+Q6iXVkuUz9EV0gjTJQvSG7IBs5EC0nKrINIh/okCeSpa03d6VZRHCQXjeuw43R0bK8d/yYTszxcEu+xu5/jHjWZuomoxvHLJ9JE5HynmVdL2dYui6bOVcUJpLynzTld7mze641L6oR6lrJMwaxoDUNlXD0eBt6wJgoSR5U7U0/gqORwCcW3wjKO6Te6MYLcATC5+AdQc3YT+HRT9t0IiWHOD2wj6x+g7qoe2JZr8Wi2yse5G0ehwhYow+RmymjJXbwHmrnG5yBniNDARqPYMDovWalOdxS0eSOZkFXOq7G+R2cdI0ocEPuDXI++2R/rw/maRdYVlC6BlUGwtz8yq3EgVaKM6YQZvVPqEVFnA7gepoJtcbW5eKZvqJVaA+AKp0f9ePhaIvZNaIDz19s5Qye1JBLnF7NVWTGpye5P2PG4gJE8qAWGPhXwIAkJD+qhplGuQZNPhepDJ5+E0AsRYOlCING6IMpXZL8i3mqhUttP+jjXys7syG73zWsAFTLPSlNVjuWjbD8F9dIFwJ+eZHenRdH6E8JyQx/8E4yzfEuksrE/Dj8sZvnUfp8oiMbcKpFcuSAeOUr6GcpohPd9MbQ3oz0rI9l4K0itx32Ip+ADHV5XC78U/Qs98+Kwy1jDA==
      template:
        metadata:
          creationTimestamp: null
          name: argocd-secret
          namespace: argocd
  - apiVersion: traefik.io/v1alpha1
    kind: IngressRoute
    metadata:
      name: argocd-server
      namespace: argocd
    spec:
      routes:
        - kind: Rule
          match: Host(`argocd.derviloper.de`)
          priority: 10
          services:
            - name: argocd-server
              port: 80
        - kind: Rule
          match: Host(`argocd.derviloper.de`) && Header(`Content-Type`, `application/grpc`)
          priority: 11
          services:
            - name: argocd-server
              port: 80
              scheme: h2c
